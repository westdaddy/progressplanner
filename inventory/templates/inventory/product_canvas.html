{% extends "inventory/base.html" %}
{% load static %}

{% block title %}Product Canvas{% endblock %}

{% block content %}
<style>
  main .container {
    max-width: none;
    width: 100%;
    padding: 0;
  }

  body, html {
    overflow: hidden;
  }

  #product-canvas-wrapper {
    width: 100vw;
    margin-left: calc(50% - 50vw);
    background: #ffffff;
  }

  #product-canvas {
    display: block;
    width: 100%;
    height: 100%;
  }
</style>
<div id="product-canvas-wrapper"
     data-products='{{ product_canvas_json|default:"[]"|safe }}'
     data-config='{{ product_canvas_config|default:"{}"|safe }}'>
  <canvas id="product-canvas"></canvas>
</div>
{% endblock %}

{% block extrajs %}
  {{ block.super }}
  <script src="https://cdn.jsdelivr.net/npm/fabric@5.3.0/dist/fabric.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="{% static 'product-canvas.js' %}"></script>
{% endblock %}
